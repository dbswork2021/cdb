{"version":3,"file":"static/js/950.28580666.chunk.js","mappings":"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","sources":["pages/index/Wallet.jsx","utils/http.js","utils/webApi.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useNavigate } from 'react-router-dom';\nimport { WalletApi } from 'utils/webApi';\n\nconst Wallet = () => {\n  const navigate = useNavigate();\n  const { t } = useTranslation();\n  const [finacialData, setFinacialData] = useState([]);\n  const [walletData, setWalletData] = useState({});\n  const [allPage, setAllPage] = useState(1);\n  const [tableData, setTableData] = useState([]);\n\n  useEffect((res) => {\n    WalletApi().then((res) => {\n      setFinacialData(res.data.finacial);\n      setWalletData(res.data.wallet);\n      setAllPage(Math.ceil(res.data.finacial.length / 8));\n      setTableData(res.data.finacial.slice(0, 8));\n    });\n  }, []);\n\n\tconst handlePage = (index) => {\n\t\tif(index === 0){\n      setTableData(finacialData.slice(0, 8));\n\t\t}else{\n      setTableData(finacialData.slice(index * 8, index * 8 + 8));\n\t\t}\n\t}\n\n  return (\n    <div className=\"flex flex-col justify-center  gap-2 h-full\">\n      <div className=\" bg-teal-600 h-36 p-4 m-2 rounded-3xl\">\n        <div className=\"text-gray-200  \">{t('my_blance')}</div>\n        <div className=\"text-white font-bold text-center text-3xl mt-4 mb-4 \">\n          {walletData.blance}\n        </div>\n        <div className=\"flex justify-between text-xs text-white\">\n          <p className=\"\">\n            {t('my_income')}：{walletData.income}\n          </p>\n          <p className=\"\">\n            {t('my_withdraw')}：{walletData.withdraw}\n          </p>\n        </div>\n      </div>\n      <div className=\" flex-auto\">\n        <div className=\"text-center\">{t('finacial_history')}</div>\n        <table className=\"min-w-full\">\n          <tbody className=\"\">\n            {tableData.map((data, index) => (\n              <>\n                <tr>\n                  <td className=\"px-2 pt-2 font-bold text-black-600\">{data.description}</td>\n                  <td className=\"text-right px-2 py-1 font-bold text-teal-600\">{data.amount}</td>\n                </tr>\n                <tr className=\" border-gray-400 text-xs text-gray-400\">\n                  <td className=\"px-2\">{data.blance}</td>\n                  <td className=\"text-right px-2 \">\n                    {data.createdAt.replace(/[TZ]/g, ' ')}\n                  </td>\n                </tr>\n              </>\n            ))}\n          </tbody>\n        </table>\n        <ul className='flex justify-center items-center mt-4'>\n          {[...Array(allPage)].map((_, index) => (\n            <li key={index} className=\"m-1 p-1 text-teal-600  border-b-solid border\" onClick={() => handlePage(index)}>\n              {index + 1}\n            </li>\n          ))}\n        </ul>\n      </div>\n      <div className=\"h-24 flex justify-between p-3\">\n        <button\n          className=\" ml-2 w-36 rounded-3xl border-solid border-2 border-teal-500 text-teal-500\"\n          onClick={() => navigate('/withdraw')}\n        >\n          {t('want_withdraw')}\n        </button>\n        <button\n          className=\"mr-2 w-36 rounded-3xl border-solid border-2 border-orange-500 text-orange-500\"\n          onClick={() => navigate('/recharge')}\n        >\n          {t('want_recharge')}\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default Wallet;\n","import Axios from 'axios';\nimport { toast } from 'react-toastify';\n\nconst http = Axios.create({\n  baseURL: process.env.REACT_APP_API_SERVER,\n  withCredentials: true,\n});\n\nhttp.interceptors.request.use(\n  (config) => {\n    if (localStorage.__web_token) {\n      config.headers.Authorization = 'Bearer ' + localStorage.__web_token;\n    }\n    if (localStorage.i18nextLng) {\n      config.headers['Accept-Language'] = localStorage.i18nextLng;\n    }\n    return config;\n  },\n  (err) => {\n    return Promise.reject(err);\n  }\n);\n\nhttp.interceptors.response.use(\n  (res) => {\n    if (res.data.message) {\n      toast.success(res.data.message);\n    }\n    return res;\n  },\n  (err) => {\n\t\t\n\t\t\n    if (err.response.status === 401) {\n      localStorage.removeItem('__web_token');\n\t\t\t\n      if (\n        window.location.pathname.indexOf('login') === -1 && \n\t\t\t\t\twindow.location.pathname.indexOf('register') === -1\n\t\t\t) {\n        window.location.hash = '/login';\n      }\n    }\n\n    if (err.response.data) {\n      toast.error(err.response.data.message);\n      return Promise.reject(err);\n    }\n    return Promise.reject(err);\n  }\n);\n\nexport default http;\n","import http from './http'\n\nexport const RegisterApi = (model) => http.post('/web/register', model)\nexport const LoginApi = (model) => http.post('/web/login', model)\nexport const WebHomeApi = () => http.get('/web/Index')\n\nexport const PersonApi = () => http.get('/web/user/center')\nexport const WalletApi = () => http.get('/web/user/wallet')\n\nexport const WebAboutApi = () => http.get('/web/info/about')\nexport const WebPostApi = () => http.get('/web/info/post')\nexport const WebPostReadApi = (id) => http.delete('/web/info/post/' + id)\nexport const WebShareApi = () => http.get('/web/info/share')\n\nexport const WebBuyApi = (model) => http.post('/web/product/buy', model)\nexport const WebDepotApi = () => http.get('/web/product/depot')\n"],"names":["navigate","useNavigate","t","useTranslation","useState","finacialData","setFinacialData","walletData","setWalletData","allPage","setAllPage","tableData","setTableData","useEffect","res","WalletApi","then","data","finacial","wallet","Math","ceil","length","slice","className","blance","income","withdraw","map","index","description","amount","createdAt","replace","Array","_","onClick","handlePage","http","Axios","baseURL","process","withCredentials","interceptors","request","use","config","localStorage","__web_token","headers","Authorization","i18nextLng","err","Promise","reject","response","message","toast","status","removeItem","window","location","pathname","indexOf","hash","RegisterApi","model","LoginApi","WebHomeApi","PersonApi","WebAboutApi","WebPostApi","WebPostReadApi","id","WebShareApi","WebBuyApi","WebDepotApi"],"sourceRoot":""}