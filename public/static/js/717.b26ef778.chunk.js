"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[717],{2717:function(e,n,t){t.r(n),t.d(n,{default:function(){return l}});var r=t(1413),o=t(9439),i=t(2791),s=t(3168),a=t(6871),u=t(184),c=function(e){var n=e.item,t=(0,a.s0)(),r=(0,s.$)().t;return(0,u.jsxs)("div",{className:"m-4 shadow-gray-300 shadow-xl  rounded-lg",onClick:function(){return t("/post/"+n._id)},children:[(0,u.jsx)("img",{src:n.imageUrl,alt:"",className:"h-24 bg-red-300 mb-2 rounded-t-lg"}),(0,u.jsxs)("div",{className:"p-2",children:[(0,u.jsx)("div",{className:"",children:n.name}),(0,u.jsxs)("div",{className:"flex justify-between text-sm text-gray-400",children:[(0,u.jsx)("p",{className:"",children:n.createdAt}),(0,u.jsxs)("p",{className:"",children:[r("read_count"),"\uff1a",n.readCount]})]})]})]})},d=t(2495),l=function(){var e=(0,i.useState)([]),n=(0,o.Z)(e,2),t=n[0],s=n[1],l=(0,a.UO)().id,f=(0,i.useState)(null),g=(0,o.Z)(f,2),m=g[0],p=g[1];return(0,i.useEffect)((function(){localStorage.setItem("navBar","person"),(0,d.s8)().then((function(e){s(e.data.map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{imageUrl:"/uploads/"+e.imageUrl,createdAt:e.createdAt.replace(/[TZ]/g,"")})})))}))}),[]),(0,i.useEffect)((function(){if(void 0!==l){var e=t.findIndex((function(e){return e._id===l}));p(t[e].detail),(0,d.Fe)(l)}}),[l]),(0,u.jsx)("div",{children:l?(0,u.jsxs)("div",{className:"m-4",children:[(0,u.jsx)("div",{className:"w-full font-bold text-center mb-4 pb-4  border-solid border-b-2",children:"\u516c\u544a\u8be6\u60c5"}),m]}):t.map((function(e){return(0,u.jsx)(c,{item:e},e._id)}))})}},129:function(e,n,t){var r=t(4569),o=t.n(r),i=t(577),s=o().create({baseURL:"/api",withCredentials:!0});s.interceptors.request.use((function(e){return localStorage.__web_token&&(e.headers.Authorization="Bearer "+localStorage.__web_token),localStorage.i18nextLng&&(e.headers["Accept-Language"]=localStorage.i18nextLng),e}),(function(e){return Promise.reject(e)})),s.interceptors.response.use((function(e){return e.data.message&&i.Am.success(e.data.message),e}),(function(e){return 401===e.response.status&&(localStorage.removeItem("__web_token"),-1===window.location.pathname.indexOf("login")&&-1===window.location.pathname.indexOf("register")&&(window.location.hash="/login")),e.response.data?(console.log(e.response.data),i.Am.error(e.response.data.message),Promise.reject(e)):Promise.reject(e)})),n.Z=s},2495:function(e,n,t){t.d(n,{DJ:function(){return l},Fe:function(){return d},Ig:function(){return i},eN:function(){return f},li:function(){return u},op:function(){return s},pk:function(){return o},s8:function(){return c},uT:function(){return g},w2:function(){return a}});var r=t(129),o=function(e){return r.Z.post("/web/register",e)},i=function(e){return r.Z.post("/web/login",e)},s=function(){return r.Z.get("/web/Index")},a=function(){return r.Z.get("/web/user/center")},u=function(){return r.Z.get("/web/info/about")},c=function(){return r.Z.get("/web/info/post")},d=function(e){return r.Z.delete("/web/info/post/"+e)},l=function(){return r.Z.get("/web/info/share")},f=function(e){return r.Z.post("/web/product/buy",e)},g=function(){return r.Z.get("/web/product/depot")}}}]);
//# sourceMappingURL=717.b26ef778.chunk.js.map