{"version":3,"file":"static/js/290.815b89c3.chunk.js","mappings":"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","sources":["pages/index/Register.jsx","utils/http.js","utils/webApi.js"],"sourcesContent":["import { AiOutlineUserAdd } from 'react-icons/ai';\nimport { BsPhone } from 'react-icons/bs';\nimport { RiLockPasswordLine } from 'react-icons/ri';\nimport { useNavigate } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport { useState } from 'react';\nimport {toast} from 'react-toastify'\nimport {RegisterApi} from 'utils/webApi'\n\nconst Register = () => {\n  const navigate = useNavigate();\n  const { t } = useTranslation();\n\tconst [userForm, setUserForm] = useState({\n\t\tnick: '',\n\t\tphone: '',\n\t\tpasswd: '',\n\t\tconfirmPwd: '',\n\t\treferrer: '',\n\t\tphoneCode: '',\n\t})\n\n\tconst handleCode = () => {\n\t\tconsole.log(\"code\");\n\t\t\n\t}\n  const handleClick = () => {\n\t\tif(userForm.passwd !== userForm.confirmPwd){\n\t\t\ttoast.error(t('passwd_confirm_fail'))\n\t\t\treturn false\n\t\t}\n\t\tRegisterApi(userForm).then((res) => {\n\t\t\tlocalStorage.setItem('__web_token', res.data.token)\n\t\t\tnavigate('/person')\n\t\t})\n\n  };\n\tconst handleInput = (e) => {\n\t\tif(e.target.name === 'phone' || e.target.name === 'referrer'){\n\t\t\tif(e.target.value.length <= 11){\n\t\t\tsetUserForm({...userForm, [e.target.name]: e.target.value.replace(/[^0-9]/ig,\"\")})\n\t\t\t}\n\t\t}else{\n\t\tsetUserForm({...userForm, [e.target.name]: e.target.value})\n\t\t}\n\t}\n  return (\n    <div className=\"h-screen flex flex-col justify-center items-center gap-4 bg-teal-300\">\n      <div className=\"w-24 h-24 rounded-full shadow flex justify-center items-center border-2 border-solid border-orange-500 mb-12 bg-white\">\n        logo\n      </div>\n\t\t\t\t\n      <div className=\"flex  w-11/12 h-10 rounded-md bg-white justify-start items-center \">\n        <BsPhone className=\"ml-2 mr-2\" />\n        <input\n          className=\"flex-auto outline-none\"\n          type=\"text\"\n\t\t\t\t\tname='nick'\n\t\t\t\t\tvalue={userForm.nick}\n          placeholder={t('nick_name')}\n\t\t\t\t\tonChange={handleInput}\n        ></input>\n      </div>\n\n      <div className=\"flex  w-11/12 h-10 rounded-md bg-white justify-start items-center \">\n        <BsPhone className=\"ml-2 mr-2\" />\n        <input\n          className=\"flex-auto outline-none\"\n          type=\"text\"\n\t\t\t\t\tname='phone'\n\t\t\t\t\tvalue={userForm.phone}\n          placeholder={t('phone_number')}\n\t\t\t\t\tonChange={handleInput}\n        ></input>\n      </div>\n\n      <div className=\"flex bg-white justify-start items-center w-11/12 h-10 rounded-md\">\n        <RiLockPasswordLine className=\"ml-2 mr-2\" />\n        <input\n          type=\"password\"\n\t\t\t\t\tname='passwd'\n\t\t\t\t\tvalue={userForm.passwd}\n          className=\"flex-auto outline-none\"\n          placeholder={t('login_pwd')}\n\t\t\t\t\tonChange={handleInput}\n        ></input>\n      </div>\n\n      <div className=\"flex bg-white justify-start items-center w-11/12 h-10 rounded-md\">\n        <RiLockPasswordLine className=\"ml-2 mr-2\" />\n        <input\n          type=\"password\"\n\t\t\t\t\tname='confirmPwd'\n\t\t\t\t\tvalue={userForm.confirmPwd}\n          className=\"flex-auto outline-none\"\n          placeholder={t('confirm_pwd')}\n\t\t\t\t\tonChange={handleInput}\n        ></input>\n      </div>\n\n      <div className=\"flex  w-11/12 h-10 rounded-md bg-white justify-start items-center \">\n        <AiOutlineUserAdd className=\"ml-2 mr-2\" />\n        <input\n          className=\"flex-auto outline-none\"\n          type=\"text\"\n\t\t\t\t\tname='referrer'\n\t\t\t\t\tvalue={userForm.referrer}\n          placeholder={t('agent_phone')}\n\t\t\t\t\tonChange={handleInput}\n        ></input>\n      </div>\n\n      <div className=\"flex  w-11/12 justify-between items-center \">\n        <input\n          className=\" rounded-md w-8/12 h-10 outline-none p-4\"\n          type=\"text\"\n\t\t\t\t\tname='phoneCode'\n\t\t\t\t\tvalue={userForm.phoneCode}\n          placeholder={t('verify_code')}\n\t\t\t\t\tonChange={handleInput}\n        ></input>\n        <button className=\"rounded-md h-10 bg-white p-2 w-1/4 text-xs text-orange-500\" onClick={handleCode}>\n          {t('get_verify_code')}\n        </button>\n      </div>\n\n      <button\n        className=\"w-10/12 h-12 rounded-3xl bg-white mt-4 text-orange-600 font-bold\"\n        onClick={handleClick}\n      >\n        {t('reg_now')}\n      </button>\n      <button\n        className=\"w-10/12 h-12 rounded-3xl border-2 border-solid text-white font-bold\"\n        onClick={() => {\n          navigate('/login');\n        }}\n      >\n        {t('login_now')}\n      </button>\n    </div>\n  );\n};\n\nexport default Register;\n","import Axios from 'axios';\nimport { toast } from 'react-toastify';\n\nconst http = Axios.create({\n  baseURL: process.env.REACT_APP_API_SERVER,\n  withCredentials: true,\n});\n\nhttp.interceptors.request.use(\n  (config) => {\n    if (localStorage.__web_token) {\n      config.headers.Authorization = 'Bearer ' + localStorage.__web_token;\n    }\n    if (localStorage.i18nextLng) {\n      config.headers['Accept-Language'] = localStorage.i18nextLng;\n    }\n    return config;\n  },\n  (err) => {\n    return Promise.reject(err);\n  }\n);\n\nhttp.interceptors.response.use(\n  (res) => {\n    if (res.data.message) {\n      toast.success(res.data.message);\n    }\n    return res;\n  },\n  (err) => {\n\t\t\n\t\t\n    if (err.response.status === 401) {\n      localStorage.removeItem('__web_token');\n\t\t\t\n      if (\n        window.location.pathname.indexOf('login') === -1 && \n\t\t\t\t\twindow.location.pathname.indexOf('register') === -1\n\t\t\t) {\n        window.location.hash = '/login';\n      }\n    }\n\n    if (err.response.data) {\n      console.log(err.response.data);\n\n      toast.error(err.response.data.message);\n      return Promise.reject(err);\n    }\n    return Promise.reject(err);\n  }\n);\n\nexport default http;\n","import http from './http'\n\nexport const RegisterApi = (model) => http.post('/web/register', model)\nexport const LoginApi = (model) => http.post('/web/login', model)\nexport const WebHomeApi = () => http.get('/web/Index')\n\nexport const PersonApi = () => http.get('/web/user/center')\n\nexport const WebAboutApi = () => http.get('/web/info/about')\nexport const WebPostApi = () => http.get('/web/info/post')\nexport const WebPostReadApi = (id) => http.delete('/web/info/post/' + id)\nexport const WebShareApi = () => http.get('/web/info/share')\n\nexport const WebBuyApi = (model) => http.post('/web/product/buy', model)\nexport const WebDepotApi = () => http.get('/web/product/depot')\n"],"names":["navigate","useNavigate","t","useTranslation","useState","nick","phone","passwd","confirmPwd","referrer","phoneCode","userForm","setUserForm","handleInput","e","target","name","value","length","replace","className","type","placeholder","onChange","onClick","console","log","toast","RegisterApi","then","res","localStorage","setItem","data","token","http","Axios","baseURL","process","withCredentials","interceptors","request","use","config","__web_token","headers","Authorization","i18nextLng","err","Promise","reject","response","message","status","removeItem","window","location","pathname","indexOf","hash","model","LoginApi","WebHomeApi","PersonApi","WebAboutApi","WebPostApi","WebPostReadApi","id","WebShareApi","WebBuyApi","WebDepotApi"],"sourceRoot":""}