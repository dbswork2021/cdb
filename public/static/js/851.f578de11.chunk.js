"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[851],{5851:function(e,t,n){n.r(t);var r=n(4942),o=n(1413),a=n(9439),s=n(2791),i=n(3168),u=n(7692),c=n(7425),l=n(6871),d=n(2495),f=n(184);t.default=function(){var e=(0,l.s0)(),t=(0,i.$)().t,n=(0,s.useState)({phone:"",passwd:""}),g=(0,a.Z)(n,2),m=g[0],w=g[1];(0,s.useEffect)((function(){localStorage.removeItem("__web_token")}),[]);var h=function(e){"phone"===e.target.name?e.target.value.length<=11&&w((0,o.Z)((0,o.Z)({},m),{},(0,r.Z)({},e.target.name,e.target.value.replace(/[^0-9]/gi,"")))):w((0,o.Z)((0,o.Z)({},m),{},(0,r.Z)({},e.target.name,e.target.value)))};return(0,f.jsxs)("div",{className:"h-screen flex flex-col justify-center items-center  gap-4 bg-teal-300",children:[(0,f.jsx)("div",{className:"w-24 h-24 rounded-full shadow flex justify-center items-center border-2 border-solid border-orange-500 bg-white",children:"logo"}),(0,f.jsxs)("div",{className:"flex  w-11/12 h-10 rounded-md bg-white justify-start items-center ",children:[(0,f.jsx)(u.EDj,{className:"ml-2 mr-2"}),(0,f.jsx)("input",{className:"flex-auto outline-none",type:"text",name:"phone",value:m.phone,placeholder:t("phone_number"),onChange:h})]}),(0,f.jsxs)("div",{className:"flex bg-white justify-start items-center w-11/12 h-10 rounded-md",children:[(0,f.jsx)(c.z85,{className:"ml-2 mr-2"}),(0,f.jsx)("input",{type:"password",name:"passwd",value:m.passwd,className:"flex-auto outline-none",placeholder:t("login_pwd"),onChange:h})]}),(0,f.jsx)("button",{className:"w-10/12 h-12 rounded-xl bg-white mt-4 font-bold text-orange-600",onClick:function(t){t.preventDefault(),(0,d.Ig)(m).then((function(t){localStorage.setItem("__web_token",t.data.token),e("/person")}))},children:t("login_now")}),(0,f.jsx)("button",{className:"w-10/12 h-12 rounded-xl border-2 border-solid font-bold text-white",onClick:function(){e("/register")},children:t("reg_now")})]})}},129:function(e,t,n){var r=n(4569),o=n.n(r),a=n(577),s=o().create({baseURL:"/api",withCredentials:!0});s.interceptors.request.use((function(e){return localStorage.__web_token&&(e.headers.Authorization="Bearer "+localStorage.__web_token),localStorage.i18nextLng&&(e.headers["Accept-Language"]=localStorage.i18nextLng),e}),(function(e){return Promise.reject(e)})),s.interceptors.response.use((function(e){return e.data.message&&a.Am.success(e.data.message),e}),(function(e){return 401===e.response.status&&(localStorage.removeItem("__web_token"),-1===window.location.pathname.indexOf("login")&&-1===window.location.pathname.indexOf("register")&&(window.location.hash="/login")),e.response.data?(console.log(e.response.data),a.Am.error(e.response.data.message),Promise.reject(e)):Promise.reject(e)})),t.Z=s},2495:function(e,t,n){n.d(t,{Fe:function(){return l},Ig:function(){return a},li:function(){return u},op:function(){return i},pk:function(){return o},s8:function(){return c},w2:function(){return s}});var r=n(129),o=function(e){return r.Z.post("/web/register",e)},a=function(e){return r.Z.post("/web/login",e)},s=function(){return r.Z.get("/web/user/center")},i=function(){return r.Z.get("/web/Index")},u=function(){return r.Z.get("/web/info/about")},c=function(){return r.Z.get("/web/info/post")},l=function(e){return r.Z.delete("/web/info/post/"+e)}}}]);
//# sourceMappingURL=851.f578de11.chunk.js.map