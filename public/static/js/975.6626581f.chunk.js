"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[975],{5975:function(e,n,t){t.r(n),t.d(n,{default:function(){return F}});var r=t(3433),i=t(1413),o=t(9439),a=t(2791),c=t(6074),u=t(7462),l=t(1694),s=t.n(l),d=t(5179),f=t(187),m=t(1354),p=t(2299),Z=t(7309),x=t(8926),h=t(3486),g=t(3578),j=t(9077),v=t(1113),b=t(9464),k=t(1783),y=void 0,C=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]])}return t},w=a.forwardRef((function(e,n){var t=a.useContext(j.E_).getPrefixCls,r=(0,d.Z)(!1,{value:e.visible,defaultValue:e.defaultVisible}),i=(0,o.Z)(r,2),c=i[0],l=i[1],f=function(n,t){var r;l(n,!0),null===(r=e.onVisibleChange)||void 0===r||r.call(e,n,t)},w=function(e){f(!1,e)},I=function(n){var t;return null===(t=e.onConfirm)||void 0===t?void 0:t.call(y,n)},_=function(n){var t;f(!1,n),null===(t=e.onCancel)||void 0===t||t.call(y,n)},T=e.prefixCls,P=e.placement,E=e.children,N=e.overlayClassName,O=C(e,["prefixCls","placement","children","overlayClassName"]),S=t("popover",T),A=t("popconfirm",T),F=s()(A,N),V=a.createElement(h.Z,{componentName:"Popconfirm",defaultLocale:g.Z.Popconfirm},(function(n){return function(n,r){var i,o=e.okButtonProps,c=e.cancelButtonProps,l=e.title,s=e.cancelText,d=e.okText,f=e.okType,m=e.icon,p=e.showCancel,h=void 0===p||p;return a.createElement("div",{className:"".concat(n,"-inner-content")},a.createElement("div",{className:"".concat(n,"-message")},m,a.createElement("div",{className:"".concat(n,"-message-title")},(i=l)?"function"===typeof i?i():i:null)),a.createElement("div",{className:"".concat(n,"-buttons")},h&&a.createElement(Z.Z,(0,u.Z)({onClick:_,size:"small"},c),s||r.cancelText),a.createElement(k.Z,{buttonProps:(0,u.Z)((0,u.Z)({size:"small"},(0,x.n)(f)),o),actionFn:I,close:w,prefixCls:t("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},d||r.okText)))}(S,n)})),L=t();return a.createElement(p.Z,(0,u.Z)({},O,{prefixCls:S,placement:P,onVisibleChange:function(n){e.disabled||f(n)},visible:c,overlay:V,overlayClassName:F,ref:n,transitionName:(0,b.mL)(L,"zoom-big",e.transitionName)}),(0,v.Tm)(E,{onKeyDown:function(e){var n,t;a.isValidElement(E)&&(null===(t=null===E||void 0===E?void 0:(n=E.props).onKeyDown)||void 0===t||t.call(n,e)),function(e){e.keyCode===m.Z.ESC&&c&&f(!1,e)}(e)}}))}));w.defaultProps={placement:"top",trigger:"click",okType:"primary",icon:a.createElement(f.Z,null),disabled:!1};var I=w,_=t(5595),T=t(3272),P=t(3695),E=t(4997),N=t(9389),O=t(8243),S=t(184),A=_.Z.Column,F=function(){var e=(0,a.useState)(),n=(0,o.Z)(e,2),t=n[0],u=n[1],l=(0,a.useState)(!1),s=(0,o.Z)(l,2),d=s[0],f=s[1],m=T.Z.useForm(),p=(0,o.Z)(m,1)[0];(0,a.useEffect)((function(){(0,c.GG)().then((function(e){u(e.data.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{id:e._id,_id:e._id.slice(0,7),createdAt:e.createdAt.replace(/[TZ]/g," "),updatedAt:e.updatedAt.replace(/[TZ]/g," ")})})))}))}),[]);var x=function(){f(!1),p.resetFields()};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(_.Z,{dataSource:t,rowKey:"id",children:[(0,S.jsx)(A,{title:"\u5e8f\u53f7",dataIndex:"_id"}),(0,S.jsx)(A,{title:"\u59d3\u540d",dataIndex:"nick"}),(0,S.jsx)(A,{title:"\u4f1a\u5458\u7b49\u7ea7",dataIndex:"level"}),(0,S.jsx)(A,{title:"\u624b\u673a\u53f7\u7801",dataIndex:"phone"}),(0,S.jsx)(A,{title:"\u63a8\u8350\u4eba",dataIndex:"referrer",render:function(e,n){return n.referrer&&(0,S.jsx)("p",{children:n.referrer.phone})}}),(0,S.jsx)(A,{title:"\u76f4\u63a8\u4eba\u6570",dataIndex:"inferior"}),(0,S.jsx)(A,{title:"\u72b6\u6001",dataIndex:"state",render:function(e,n){return n.state?(0,S.jsx)("p",{children:"\u6b63\u5e38"}):(0,S.jsx)("p",{children:"\u5df2\u5c01\u505c"})}}),(0,S.jsx)(A,{title:"\u94b1\u5305\u7ed3\u4f59",dataIndex:"blance"}),(0,S.jsx)(A,{title:"\u51bb\u7ed3\u91d1\u989d",dataIndex:"freeze"}),(0,S.jsx)(A,{title:"\u6ce8\u518c\u65f6\u95f4",dataIndex:"createdAt"}),(0,S.jsx)(A,{title:"\u6700\u540e\u5728\u7ebf",dataIndex:"updatedAt"}),(0,S.jsx)(A,{title:"\u64cd\u4f5c",dataIndex:"",render:function(e,n){return(0,S.jsxs)("div",{className:"flex gap-1",children:[(0,S.jsx)(I,{title:"\u4f60\u786e\u5b9a\u8981".concat(n.state?"\u5c01\u7981":"\u89e3\u5c01","\u6b64\u7528\u6237?"),onConfirm:function(){return function(e){(0,c.dB)(e.id).then((function(n){var r=t.map((function(n){return n.id===e.id?(0,i.Z)((0,i.Z)({},n),{},{state:!n.state}):n}));u(r)}))}(n)},okType:"link",cancelText:"\u53d6\u6d88",okText:"\u786e\u8ba4",children:(0,S.jsx)(Z.Z,{type:"link",children:n.state?"\u5c01\u7981":"\u89e3\u5c01"})}),(0,S.jsx)(Z.Z,{type:"link",onClick:function(){return function(e){p.setFieldsValue(e),f(!0)}(n)},children:"\u4fee\u6539"}),(0,S.jsx)(I,{title:"\u4f60\u786e\u5b9a\u8981\u5220\u9664\u6b64\u7528\u6237?",onConfirm:function(){return function(e){(0,c.g4)(e.id).then((function(n){var r=t.filter((function(n){return n.id!==e.id}));u(r)}))}(n)},okType:"link",cancelText:"\u53d6\u6d88",okText:"\u786e\u8ba4",children:(0,S.jsx)(Z.Z,{type:"link",children:"\u5220\u9664"})})]})}})]}),(0,S.jsx)(E.Z,{title:"\u4fee\u6539\u4fe1\u606f",centered:!0,visible:d,onCancel:x,width:1e3,keyboard:!1,maskClosable:!1,footer:[],children:(0,S.jsxs)(T.Z,{labelCol:{span:4},form:p,name:"control-hooks",onFinish:function(e){(0,c.tN)((0,i.Z)({},e)).then((function(e){P.ZP.success("\u4fdd\u5b58\u6210\u529f"),x();var n=t.filter((function(n){return n.id!==e.data._id}));u([].concat((0,r.Z)(n),[(0,i.Z)((0,i.Z)({},e.data),{},{_id:e.data._id.slice(0,7),id:e.data._id})]))}))},children:[(0,S.jsx)(T.Z.Item,{name:"id",label:"\u4f1a\u5458\u7f16\u53f7",children:(0,S.jsx)(N.Z,{disabled:!0})}),(0,S.jsx)(T.Z.Item,{name:"nick",label:"\u4f1a\u5458\u59d3\u540d",children:(0,S.jsx)(N.Z,{})}),(0,S.jsx)(T.Z.Item,{name:"blance",label:"\u8d26\u6237\u4f59\u989d",children:(0,S.jsx)(O.Z,{disabled:!0})}),(0,S.jsx)(T.Z.Item,{name:"money",label:"\u5145\u503c\u91d1\u989d",children:(0,S.jsx)(O.Z,{min:0})}),(0,S.jsx)(T.Z.Item,{wrapperCol:{span:4,offset:4},children:(0,S.jsx)(Z.Z,{type:"link",htmlType:"submit",children:"\u4fdd\u5b58"})})]})})]})}},6074:function(e,n,t){t.d(n,{Fi:function(){return b},GG:function(){return u},Ig:function(){return i},JY:function(){return a},K9:function(){return T},Mc:function(){return w},QZ:function(){return Z},_2:function(){return y},c6:function(){return g},dB:function(){return l},g4:function(){return d},jP:function(){return h},jy:function(){return m},kP:function(){return k},o7:function(){return c},pk:function(){return o},ps:function(){return p},sV:function(){return f},t$:function(){return j},tN:function(){return s},tT:function(){return I},tu:function(){return _},ws:function(){return v},yD:function(){return x},yF:function(){return C}});var r=t(129),i=function(e){return r.Z.post("/admin/login",e)},o=function(e){return r.Z.post("/admin/register",e)},a=function(){return r.Z.get("/common/captcha")},c=function(){return r.Z.get("/admin/info/dashboard")},u=function(){return r.Z.get("/admin/user/list")},l=function(e){return r.Z.get("/admin/user/"+e)},s=function(e){return r.Z.post("/admin/user",e)},d=function(e){return r.Z.delete("/admin/user/"+e)},f=function(){return r.Z.get("/admin/info/rotate")},m=function(e){return r.Z.post("/admin/info/rotate",e)},p=function(e){return r.Z.delete("/admin/info/rotate/"+e)},Z=function(){return r.Z.get("/admin/info/post")},x=function(e){return r.Z.post("/admin/info/post",e)},h=function(e){return r.Z.delete("/admin/info/post/"+e)},g=function(){return r.Z.get("/admin/info/about")},j=function(e){return r.Z.post("/admin/info/about",e)},v=function(){return r.Z.get("/admin/info/center")},b=function(e){return r.Z.post("/admin/info/center",e)},k=function(){return r.Z.get("/admin/info/share")},y=function(e){return r.Z.post("/admin/info/share",e)},C=function(){return r.Z.get("/admin/product")},w=function(e){return r.Z.post("/admin/product",e)},I=function(e){return r.Z.delete("/admin/product/"+e)},_=function(){return r.Z.get("/admin/product/record")},T=function(){return r.Z.get("/admin/price/financial")}},129:function(e,n,t){var r=t(4569),i=t.n(r),o=t(577),a=i().create({baseURL:"/api",withCredentials:!0});a.interceptors.request.use((function(e){return localStorage.__web_token&&(e.headers.Authorization="Bearer "+localStorage.__web_token),localStorage.i18nextLng&&(e.headers["Accept-Language"]=localStorage.i18nextLng),e}),(function(e){return Promise.reject(e)})),a.interceptors.response.use((function(e){return e.data.message&&o.Am.success(e.data.message),e}),(function(e){return 401===e.response.status&&(localStorage.removeItem("__web_token"),-1===window.location.pathname.indexOf("login")&&-1===window.location.pathname.indexOf("register")&&(window.location.hash="/login")),e.response.data?(console.log(e.response.data),o.Am.error(e.response.data.message),Promise.reject(e)):Promise.reject(e)})),n.Z=a}}]);
//# sourceMappingURL=975.6626581f.chunk.js.map