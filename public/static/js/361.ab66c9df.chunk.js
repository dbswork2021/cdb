"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[361],{8361:function(n,e,t){t.r(e);var r=t(4942),o=t(1413),u=t(9439),a=t(2791),i=t(7692),c=t(7425),s=t(6074),f=t(577),l=t(6871),d=t(184);e.default=function(){var n=(0,a.useState)(null),e=(0,u.Z)(n,2),t=e[0],m=e[1],p=(0,a.useState)({username:"",passwd:"",captchaCode:""}),g=(0,u.Z)(p,2),h=g[0],w=g[1],x=(0,l.s0)();(0,a.useEffect)((function(){Z()}),[]);var Z=function(){(0,s.JY)().then((function(n){m(n.data.svg),localStorage.setItem("__web_token",n.data.token)}))},b=function(n){w((0,o.Z)((0,o.Z)({},h),{},(0,r.Z)({},n.target.name,n.target.value)))};return(0,d.jsx)("div",{className:"h-screen flex justify-center bg-slate-500 p-24",children:(0,d.jsxs)("div",{className:"w-2/6 h-96 flex flex-col bg-zinc-50 p-8 gap-4",children:[(0,d.jsx)("div",{className:"w-full h-8 leading-8 text-center   font-bold text-3xl",children:"\u540e\u53f0\u7ba1\u7406\u7cfb\u7edf"}),(0,d.jsx)("div",{className:"w-full h-8 leading-8 text-center   ",children:"\u8bf7\u8f93\u5165\u60a8\u7684\u8d26\u53f7\u548c\u5bc6\u7801"}),(0,d.jsxs)("div",{className:"flex  w-full h-10  bg-white items-center ",children:[(0,d.jsx)("input",{className:"flex-auto outline-none ml-2 ",type:"text",name:"username",value:h.username,onChange:b,placeholder:"\u7528\u6237\u540d"}),(0,d.jsx)(i.EDj,{className:"mr-2"})]}),(0,d.jsxs)("div",{className:"flex bg-white  items-center w-full h-10 ",children:[(0,d.jsx)("input",{type:"password",name:"passwd",className:"flex-auto outline-none ml-2",value:h.passwd,onChange:b,placeholder:"\u767b\u9646\u5bc6\u7801"}),(0,d.jsx)(c.z85,{className:" mr-2"})]}),(0,d.jsxs)("div",{className:"w-full h-10 flex ",children:[(0,d.jsx)("input",{type:"text",className:"h-full w-2/4 outline-none pl-2",name:"captchaCode",value:h.captchaCode,onChange:b,placeholder:"\u9a8c\u8bc1\u7801"}),t&&(0,d.jsx)("div",{dangerouslySetInnerHTML:{__html:t},onClick:function(){return Z()}})]}),(0,d.jsx)("button",{className:"w-full h-12 bg-sky-500 mt-4 font-bold text-white",onClick:function(n){n.preventDefault(),""!==h.captchaCode&&""!==h.username&&""!==h.passwd?(0,s.Ig)(h).then((function(n){localStorage.setItem("__web_token",n.data.token),x("/admin")})).catch((function(){Z()})):f.Am.error("\u8bf7\u8f93\u5165\u5e10\u53f7\u5bc6\u7801\u53ca\u9a8c\u8bc1\u7801")},children:"\u767b\u9646"})]})})}},6074:function(n,e,t){t.d(e,{Fi:function(){return j},GG:function(){return c},Ig:function(){return o},JY:function(){return a},K9:function(){return y},Mc:function(){return N},QZ:function(){return g},_2:function(){return _},c6:function(){return x},dB:function(){return s},g4:function(){return l},jP:function(){return w},jy:function(){return m},kP:function(){return v},o7:function(){return i},pk:function(){return u},ps:function(){return p},sV:function(){return d},t$:function(){return Z},tN:function(){return f},tT:function(){return C},tu:function(){return S},ws:function(){return b},yD:function(){return h},yF:function(){return k}});var r=t(129),o=function(n){return r.Z.post("/admin/login",n)},u=function(n){return r.Z.post("/admin/register",n)},a=function(){return r.Z.get("/common/captcha")},i=function(){return r.Z.get("/admin/info/dashboard")},c=function(){return r.Z.get("/admin/user/list")},s=function(n){return r.Z.get("/admin/user/"+n)},f=function(n){return r.Z.post("/admin/user",n)},l=function(n){return r.Z.delete("/admin/user/"+n)},d=function(){return r.Z.get("/admin/info/rotate")},m=function(n){return r.Z.post("/admin/info/rotate",n)},p=function(n){return r.Z.delete("/admin/info/rotate/"+n)},g=function(){return r.Z.get("/admin/info/post")},h=function(n){return r.Z.post("/admin/info/post",n)},w=function(n){return r.Z.delete("/admin/info/post/"+n)},x=function(){return r.Z.get("/admin/info/about")},Z=function(n){return r.Z.post("/admin/info/about",n)},b=function(){return r.Z.get("/admin/info/center")},j=function(n){return r.Z.post("/admin/info/center",n)},v=function(){return r.Z.get("/admin/info/share")},_=function(n){return r.Z.post("/admin/info/share",n)},k=function(){return r.Z.get("/admin/product")},N=function(n){return r.Z.post("/admin/product",n)},C=function(n){return r.Z.delete("/admin/product/"+n)},S=function(){return r.Z.get("/admin/product/record")},y=function(){return r.Z.get("/admin/price/financial")}},129:function(n,e,t){var r=t(4569),o=t.n(r),u=t(577),a=o().create({baseURL:"/api",withCredentials:!0});a.interceptors.request.use((function(n){return localStorage.__web_token&&(n.headers.Authorization="Bearer "+localStorage.__web_token),localStorage.i18nextLng&&(n.headers["Accept-Language"]=localStorage.i18nextLng),n}),(function(n){return Promise.reject(n)})),a.interceptors.response.use((function(n){return n.data.message&&u.Am.success(n.data.message),n}),(function(n){return 401===n.response.status&&(localStorage.removeItem("__web_token"),-1===window.location.pathname.indexOf("login")&&-1===window.location.pathname.indexOf("register")&&(window.location.hash="/login")),n.response.data?(console.log(n.response.data),u.Am.error(n.response.data.message),Promise.reject(n)):Promise.reject(n)})),e.Z=a}}]);
//# sourceMappingURL=361.ab66c9df.chunk.js.map