"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[38],{4038:function(e,n,t){t.r(n);var r=t(4942),o=t(1413),u=t(9439),a=t(2791),s=t(3168),i=t(7692),c=t(7425),l=t(6871),f=t(8402),d=t(184);n.default=function(){var e=(0,l.s0)(),n=(0,s.$)().t,t=(0,a.useState)({phone:"",passwd:""}),g=(0,u.Z)(t,2),p=g[0],h=g[1];(0,a.useEffect)((function(){localStorage.removeItem("__web_token")}),[]);var m=function(e){"phone"===e.target.name?e.target.value.length<=11&&h((0,o.Z)((0,o.Z)({},p),{},(0,r.Z)({},e.target.name,e.target.value.replace(/[^0-9]/gi,"")))):h((0,o.Z)((0,o.Z)({},p),{},(0,r.Z)({},e.target.name,e.target.value)))};return(0,d.jsxs)("div",{className:"h-screen flex flex-col justify-center items-center  gap-4 bg-teal-300",children:[(0,d.jsx)("div",{className:"w-24 h-24 rounded-full shadow flex justify-center items-center border-2 border-solid border-orange-500 bg-white",children:"logo"}),(0,d.jsxs)("div",{className:"flex  w-11/12 h-10 rounded-md bg-white justify-start items-center ",children:[(0,d.jsx)(i.EDj,{className:"ml-2 mr-2"}),(0,d.jsx)("input",{className:"outline-none w-full",type:"text",name:"phone",value:p.phone,placeholder:n("phone_number"),onChange:m})]}),(0,d.jsxs)("div",{className:"flex bg-white justify-start items-center w-11/12 h-10 rounded-md",children:[(0,d.jsx)(c.z85,{className:"ml-2 mr-2"}),(0,d.jsx)("input",{type:"password",name:"passwd",value:p.passwd,className:"w-full outline-none",placeholder:n("login_pwd"),onChange:m})]}),(0,d.jsx)("button",{className:"w-10/12 h-12 rounded-xl bg-white mt-4 font-bold text-orange-600",onClick:function(n){n.preventDefault(),(0,f.Ig)(p).then((function(n){localStorage.setItem("__web_token",n.data.token),e("/person")}))},children:n("login_now")}),(0,d.jsx)("button",{className:"w-10/12 h-12 rounded-xl border-2 border-solid font-bold text-white",onClick:function(){e("/register")},children:n("reg_now")})]})}},8402:function(e,n,t){t.d(n,{c6:function(){return g},Xc:function(){return w},$C:function(){return b},NG:function(){return l},Ig:function(){return c},w2:function(){return f},QZ:function(){return p},Bw:function(){return h},ic:function(){return x},pk:function(){return i},kP:function(){return m},MS:function(){return d},eO:function(){return _}});var r=t(4569),o=t.n(r),u=t(577),a=o().create({baseURL:"/api/web",withCredentials:!0});a.interceptors.request.use((function(e){return localStorage.__web_token&&(e.headers.Authorization="Bearer "+localStorage.__web_token),localStorage.i18nextLng&&(e.headers["Accept-Language"]=localStorage.i18nextLng),e}),(function(e){return Promise.reject(e)})),a.interceptors.response.use((function(e){return e.data.message&&u.Am.success(e.data.message),e}),(function(e){return 401===e.response.status&&(localStorage.removeItem("__web_token"),-1===window.location.pathname.indexOf("login")&&-1===window.location.pathname.indexOf("register")&&(window.location.hash="/login")),e.response.data?(console.log(e.response),u.Am.error(e.response.data.message),Promise.reject(e)):Promise.reject(e)}));var s=a,i=function(e){return s.post("/register",e)},c=function(e){return s.post("/login",e)},l=function(){return s.get("/Index")},f=function(){return s.get("/user/center")},d=function(){return s.get("/user/wallet")},g=function(){return s.get("/info/about")},p=function(){return s.get("/info/post")},h=function(e){return s.delete("/info/post/"+e)},m=function(){return s.get("/info/share")},w=function(e){return s.post("/product/buy",e)},b=function(){return s.get("/product/depot")},x=function(e){return s.post("/order/recharge",e)},_=function(){return s.get("/order/withdraw")}}}]);
//# sourceMappingURL=38.e9836940.chunk.js.map