{"version":3,"file":"static/js/38.a98d153e.chunk.js","mappings":"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","sources":["pages/Login.jsx","utils/http.js","utils/Api.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { CaptchaApi, LoginApi } from 'utils/Api';\nimport { useNavigate } from 'react-router-dom';\nimport { Card, Form, Input, Button } from 'antd';\n\nconst Login = () => {\n  const [captchaCode, setCaptchaCode] = useState(null);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    getCaptcha();\n  }, []);\n\n  const getCaptcha = () => {\n    CaptchaApi().then((res) => {\n      setCaptchaCode(res.data.svg);\n      localStorage.setItem('__admin_token', res.data.token);\n    });\n  };\n\n  const onFinish = (value) => {\n\t\t\n      LoginApi(value)\n        .then((res) => {\n          localStorage.setItem('__admin_token', res.data.token);\n          navigate('/admin');\n        })\n        .catch(() => {\n          getCaptcha();\n        });\n  };\n\n\n  return (\n    <Card title=\"后台管理系统\" bordered={false} style={{ width: 600, margin: '8rem auto', textAlign: 'center' }}>\n      <Form\n        name=\"basic\"\n\t\t\t\tlabelCol={{span: 4}}\n        initialValues={{ remember: true }}\n        onFinish={onFinish}\n        autoComplete=\"off\"\n      >\n        <Form.Item\n          label=\"用户名\"\n          name=\"username\"\n          rules={[{ required: true, message: '请输入用户名!' }]}\n        >\n          <Input />\n        </Form.Item>\n\n        <Form.Item\n          label=\"密码\"\n          name=\"passwd\"\n          rules={[{ required: true, message: '请输入密码' }]}\n        >\n          <Input.Password />\n        </Form.Item>\n        <Form.Item label=\"验证码\" style={{ marginBottom: 0 }}>\n          <Form.Item\n            name=\"captchaCode\"\n            rules={[{ required: true }]}\n            style={{ display: 'inline-block', width: 'calc(50% - 8px)' }}\n          >\n            <Input placeholder=\"请输入验证码\" />\n          </Form.Item>\n          <Form.Item\n            style={{\n              display: 'inline-block',\n              width: 'calc(50% - 8px)',\n              margin: '0 8px',\n            }}\n          >\n            {captchaCode && (\n              <div\n                dangerouslySetInnerHTML={{ __html: captchaCode }}\n                onClick={() => getCaptcha()}\n              ></div>\n            )}\n          </Form.Item>\n        </Form.Item>\n        <Form.Item wrapperCol={{  span: 16 }}>\n          <Button type=\"primary\" htmlType=\"submit\">\n            登陆\n          </Button>\n        </Form.Item>\n      </Form>\n    </Card>\n  );\n};\n\nexport default Login;\n","import Axios from 'axios';\nimport { message } from 'antd';\n\nconst http = Axios.create({\n  baseURL: process.env.REACT_APP_API_SERVER,\n  withCredentials: true,\n});\n\nhttp.interceptors.request.use(\n  (config) => {\n    if (localStorage.__admin_token) {\n      config.headers.Authorization = 'Bearer ' + localStorage.__admin_token;\n    }\n    if (localStorage.i18nextLng) {\n      config.headers['Accept-Language'] = localStorage.i18nextLng;\n    }\n    return config;\n  },\n  (err) => {\n    return Promise.reject(err);\n  }\n);\n\nhttp.interceptors.response.use(\n  (res) => {\n    if (res.data.message) {\n      message.success(res.data.message);\n    }\n    return res;\n  },\n  (err) => {\n\t\t\n\t\t\n    if (err.response.status === 401) {\n      localStorage.removeItem('__admin_token');\n\t\t\t\n      if (\n        window.location.pathname.indexOf('login') === -1 && \n\t\t\t\t\twindow.location.pathname.indexOf('register') === -1\n\t\t\t) {\n        window.location.hash = '/login';\n      }\n    }\n\n    if (err.response.data) {\n      message.error(err.response.data.message);\n      return Promise.reject(err);\n    }\n    return Promise.reject(err);\n  }\n);\n\nexport default http;\n","import http from './http';\n\nexport const LoginApi = (model) => http.post('/public/login', model);\nexport const RegisterApi = (model) => http.post('/public/register', model);\nexport const CaptchaApi = () => http.get('/../common/captcha');\n\nexport const DashBoardApi = () => http.get('/info/dashboard');\n\nexport const UserListApi = () => http.get('/user');\nexport const UserBanApi = (id) => http.delete('/user/' + id);\n\nexport const WalletListApi = (id) => http.get('/wallet/' + id);\nexport const WalletEditApi = (model) => http.post('/wallet', model);\n\nexport const BankApi = (id) => http.get('/bank/' + id);\nexport const BankEditApi = (model) => http.post('/bank', model);\n\nexport const AdminApi = () => http.get('/user/admin');\nexport const AdminSaveApi = (model) => http.post('/user/admin', model);\nexport const AdminDelApi = (id) => http.delete('/user/admin/' + id);\n\nexport const RostateApi = () => http.get('/rotate');\nexport const RostateSaveApi = (model) => http.post('/rotate', model);\nexport const RostateDelApi = (id) => http.delete('/rotate/' + id);\n\nexport const PostApi = () => http.get('/post');\nexport const PostSaveApi = (model) => http.post('/post', model);\nexport const PostDelApi = (id) => http.delete('/post/' + id);\n\nexport const ProductApi = () => http.get('/product');\nexport const ProductSaveApi = (model) => http.post('/product', model);\nexport const ProductDelApi = (id) => http.delete('/product/' + id);\n\nexport const TransactionApi = () => http.get('/transaction');\n\nexport const FinancialApi = () => http.get('/finance');\nexport const RechageApi = () => http.get('/recharge');\nexport const WithdrawListApi = () => http.get('/withdraw');\nexport const WithdrawAllowApi = (model) => http.post('/withdraw', model);\nexport const WithdrawAllowHandlApi = (model) => http.put('/withdraw', model);\nexport const WithdrawDelApi = (id) => http.delete('/withdraw/' + id);\n\nexport const SetApi = (type) => http.get('/set/' + type);\nexport const SetSaveApi = (model) => http.post('/set', model);\n"],"names":["useState","captchaCode","setCaptchaCode","navigate","useNavigate","useEffect","getCaptcha","CaptchaApi","then","res","data","svg","localStorage","setItem","token","title","bordered","style","width","margin","textAlign","name","labelCol","span","initialValues","remember","onFinish","value","LoginApi","catch","autoComplete","label","rules","required","message","marginBottom","display","placeholder","dangerouslySetInnerHTML","__html","onClick","wrapperCol","type","htmlType","http","Axios","baseURL","process","withCredentials","interceptors","request","use","config","__admin_token","headers","Authorization","i18nextLng","err","Promise","reject","response","status","removeItem","window","location","pathname","indexOf","hash","model","RegisterApi","DashBoardApi","UserListApi","UserBanApi","id","WalletListApi","WalletEditApi","BankApi","BankEditApi","AdminApi","AdminSaveApi","AdminDelApi","RostateApi","RostateSaveApi","RostateDelApi","PostApi","PostSaveApi","PostDelApi","ProductApi","ProductSaveApi","ProductDelApi","TransactionApi","FinancialApi","RechageApi","WithdrawListApi","WithdrawAllowApi","WithdrawAllowHandlApi","WithdrawDelApi","SetApi","SetSaveApi"],"sourceRoot":""}