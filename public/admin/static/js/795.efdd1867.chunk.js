"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[795],{9795:function(e,n,t){t.r(n);var r=t(3433),i=t(1413),o=t(9439),u=t(2791),c=t(8402),a=t(5595),l=t(3272),s=t(3695),f=t(8183),d=t(7309),p=t(4997),m=t(9389),x=t(8243),h=t(184),g=a.Z.Column;n.default=function(){var e=(0,u.useState)(),n=(0,o.Z)(e,2),t=n[0],Z=n[1],v=(0,u.useState)(!1),j=(0,o.Z)(v,2),b=j[0],y=j[1],k=l.Z.useForm(),w=(0,o.Z)(k,1)[0];(0,u.useEffect)((function(){(0,c.GG)().then((function(e){Z(e.data.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{id:e._id,_id:e._id.slice(0,7),createdAt:e.createdAt.replace(/[TZ]/g," ").substr(0,e.createdAt.length-5),updatedAt:e.updatedAt.replace(/[TZ]/g," ").substr(0,e.createdAt.length-5)})})))}))}),[]);var C=function(){y(!1),w.resetFields()};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(a.Z,{dataSource:t,rowKey:"id",children:[(0,h.jsx)(g,{title:"\u5e8f\u53f7",dataIndex:"_id"}),(0,h.jsx)(g,{title:"\u59d3\u540d",dataIndex:"nick"}),(0,h.jsx)(g,{title:"\u4f1a\u5458\u7b49\u7ea7",dataIndex:"level"}),(0,h.jsx)(g,{title:"\u624b\u673a\u53f7\u7801",dataIndex:"phone"}),(0,h.jsx)(g,{title:"\u63a8\u8350\u4eba",dataIndex:"referrer",render:function(e,n){return n.referrer&&(0,h.jsx)("p",{children:n.referrer.phone})}}),(0,h.jsx)(g,{title:"\u76f4\u63a8\u4eba\u6570",dataIndex:"inferior"}),(0,h.jsx)(g,{title:"\u72b6\u6001",render:function(e,n){return n.state?(0,h.jsx)("p",{children:"\u6b63\u5e38"}):(0,h.jsx)("p",{children:"\u5df2\u5c01\u505c"})}}),(0,h.jsx)(g,{title:"\u94b1\u5305\u7ed3\u4f59",dataIndex:"blance"}),(0,h.jsx)(g,{title:"\u51bb\u7ed3\u91d1\u989d",dataIndex:"freeze"}),(0,h.jsx)(g,{title:"\u6ce8\u518c\u65f6\u95f4",dataIndex:"createdAt"}),(0,h.jsx)(g,{title:"\u6700\u540e\u5728\u7ebf",dataIndex:"updatedAt"}),(0,h.jsx)(g,{title:"\u64cd\u4f5c",dataIndex:"",render:function(e,n){return(0,h.jsxs)("div",{className:"flex gap-1",children:[(0,h.jsx)(f.Z,{title:"\u4f60\u786e\u5b9a\u8981".concat(n.state?"\u5c01\u7981":"\u89e3\u5c01","\u6b64\u7528\u6237?"),onConfirm:function(){return function(e){(0,c.dB)(e.id).then((function(n){var r=t.map((function(n){return n.id===e.id?(0,i.Z)((0,i.Z)({},n),{},{state:!n.state}):n}));Z(r)}))}(n)},okType:"link",cancelText:"\u53d6\u6d88",okText:"\u786e\u8ba4",children:(0,h.jsx)(d.Z,{type:"link",children:n.state?"\u5c01\u7981":"\u89e3\u5c01"})}),(0,h.jsx)(d.Z,{type:"link",onClick:function(){return function(e){w.setFieldsValue(e),y(!0)}(n)},children:"\u4fee\u6539"})]})}})]}),(0,h.jsx)(p.Z,{title:"\u4fee\u6539\u4fe1\u606f",centered:!0,visible:b,onCancel:C,width:1e3,keyboard:!1,maskClosable:!1,footer:[],children:(0,h.jsxs)(l.Z,{labelCol:{span:4},form:w,name:"control-hooks",onFinish:function(e){(0,c.tN)((0,i.Z)({},e)).then((function(e){s.ZP.success("\u4fdd\u5b58\u6210\u529f"),C();var n=t.filter((function(n){return n.id!==e.data._id}));Z([].concat((0,r.Z)(n),[(0,i.Z)((0,i.Z)({},e.data),{},{_id:e.data._id.slice(0,7),id:e.data._id})]))}))},children:[(0,h.jsx)(l.Z.Item,{name:"id",label:"\u4f1a\u5458\u7f16\u53f7",children:(0,h.jsx)(m.Z,{disabled:!0})}),(0,h.jsx)(l.Z.Item,{name:"nick",label:"\u4f1a\u5458\u59d3\u540d",children:(0,h.jsx)(m.Z,{})}),(0,h.jsx)(l.Z.Item,{name:"blance",label:"\u8d26\u6237\u4f59\u989d",children:(0,h.jsx)(x.Z,{disabled:!0})}),(0,h.jsx)(l.Z.Item,{name:"money",label:"\u5145\u503c\u91d1\u989d",children:(0,h.jsx)(x.Z,{min:0})}),(0,h.jsx)(l.Z.Item,{wrapperCol:{span:4,offset:4},children:(0,h.jsx)(d.Z,{type:"link",htmlType:"submit",children:"\u4fdd\u5b58"})})]})})]})}},8402:function(e,n,t){t.d(n,{c6:function(){return w},t$:function(){return C},xq:function(){return x},jP:function(){return g},fH:function(){return h},JY:function(){return s},ws:function(){return I},Fi:function(){return _},o7:function(){return f},K9:function(){return S},Ig:function(){return a},QZ:function(){return b},Ip:function(){return k},yD:function(){return y},yF:function(){return T},tT:function(){return A},Mc:function(){return N},AA:function(){return F},tu:function(){return O},pk:function(){return l},sV:function(){return Z},ps:function(){return j},jy:function(){return v},jg:function(){return B},kT:function(){return G},kP:function(){return P},_2:function(){return E},dB:function(){return p},tN:function(){return m},GG:function(){return d},GW:function(){return L},cc:function(){return z},bK:function(){return V}});var r=t(4569),i=t.n(r),o=t(3695),u=i().create({baseURL:"/api/admin",withCredentials:!0});u.interceptors.request.use((function(e){return localStorage.__admin_token&&(e.headers.Authorization="Bearer "+localStorage.__admin_token),localStorage.i18nextLng&&(e.headers["Accept-Language"]=localStorage.i18nextLng),e}),(function(e){return Promise.reject(e)})),u.interceptors.response.use((function(e){return e.data.message&&o.ZP.success(e.data.message),e}),(function(e){return 401===e.response.status&&(localStorage.removeItem("__admin_token"),-1===window.location.pathname.indexOf("login")&&-1===window.location.pathname.indexOf("register")&&(window.location.hash="/login")),e.response.data?(o.ZP.error(e.response.data.message),Promise.reject(e)):Promise.reject(e)}));var c=u,a=function(e){return c.post("/login",e)},l=function(e){return c.post("/register",e)},s=function(){return c.get("/../common/captcha")},f=function(){return c.get("/info/dashboard")},d=function(){return c.get("/user/list")},p=function(e){return c.get("/user/user/"+e)},m=function(e){return c.post("/user/user",e)},x=function(){return c.get("/user/admin")},h=function(e){return c.post("/user/admin",e)},g=function(e){return c.delete("/user/admin/"+e)},Z=function(){return c.get("/info/rotate")},v=function(e){return c.post("/info/rotate",e)},j=function(e){return c.delete("/info/rotate/"+e)},b=function(){return c.get("/info/post")},y=function(e){return c.post("/info/post",e)},k=function(e){return c.delete("/info/post/"+e)},w=function(){return c.get("/info/about")},C=function(e){return c.post("/info/about",e)},I=function(){return c.get("/info/center")},_=function(e){return c.post("/info/center",e)},P=function(){return c.get("/info/share")},E=function(e){return c.post("/info/share",e)},T=function(){return c.get("/product")},N=function(e){return c.post("/product",e)},A=function(e){return c.delete("/product/"+e)},O=function(){return c.get("/product/record")},S=function(){return c.get("/price/financial")},F=function(){return c.get("/price/rechage")},V=function(){return c.get("/price/withdraw")},L=function(e){return c.post("/price/withdraw",e)},z=function(e){return c.delete("/price/withdraw/"+e)},B=function(e){return c.get("/set/"+e)},G=function(e){return c.post("/set",e)}},8183:function(e,n,t){t.d(n,{Z:function(){return k}});var r=t(7462),i=t(9439),o=t(2791),u=t(1694),c=t.n(u),a=t(5179),l=t(187),s=t(1354),f=t(9220),d=t(7309),p=t(2571),m=t(3486),x=t(454),h=t(9077),g=t(1113),Z=t(9464),v=t(1783),j=void 0,b=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]])}return t},y=o.forwardRef((function(e,n){var t=o.useContext(h.E_).getPrefixCls,u=(0,a.Z)(!1,{value:e.visible,defaultValue:e.defaultVisible}),l=(0,i.Z)(u,2),y=l[0],k=l[1],w=function(n,t){var r;k(n,!0),null===(r=e.onVisibleChange)||void 0===r||r.call(e,n,t)},C=function(e){w(!1,e)},I=function(n){var t;return null===(t=e.onConfirm)||void 0===t?void 0:t.call(j,n)},_=function(n){var t;w(!1,n),null===(t=e.onCancel)||void 0===t||t.call(j,n)},P=e.prefixCls,E=e.placement,T=e.children,N=e.overlayClassName,A=b(e,["prefixCls","placement","children","overlayClassName"]),O=t("popover",P),S=t("popconfirm",P),F=c()(S,N),V=o.createElement(m.Z,{componentName:"Popconfirm",defaultLocale:x.Z.Popconfirm},(function(n){return function(n,i){var u,c=e.okButtonProps,a=e.cancelButtonProps,l=e.title,s=e.cancelText,f=e.okText,m=e.okType,x=e.icon,h=e.showCancel,g=void 0===h||h;return o.createElement("div",{className:"".concat(n,"-inner-content")},o.createElement("div",{className:"".concat(n,"-message")},x,o.createElement("div",{className:"".concat(n,"-message-title")},(u=l)?"function"===typeof u?u():u:null)),o.createElement("div",{className:"".concat(n,"-buttons")},g&&o.createElement(d.Z,(0,r.Z)({onClick:_,size:"small"},a),s||i.cancelText),o.createElement(v.Z,{buttonProps:(0,r.Z)((0,r.Z)({size:"small"},(0,p.n)(m)),c),actionFn:I,close:C,prefixCls:t("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},f||i.okText)))}(O,n)})),L=t();return o.createElement(f.Z,(0,r.Z)({},A,{prefixCls:O,placement:E,onVisibleChange:function(n){e.disabled||w(n)},visible:y,overlay:V,overlayClassName:F,ref:n,transitionName:(0,Z.mL)(L,"zoom-big",e.transitionName)}),(0,g.Tm)(T,{onKeyDown:function(e){var n,t;o.isValidElement(T)&&(null===(t=null===T||void 0===T?void 0:(n=T.props).onKeyDown)||void 0===t||t.call(n,e)),function(e){e.keyCode===s.Z.ESC&&y&&w(!1,e)}(e)}}))}));y.defaultProps={placement:"top",trigger:"click",okType:"primary",icon:o.createElement(l.Z,null),disabled:!1};var k=y}}]);
//# sourceMappingURL=795.efdd1867.chunk.js.map