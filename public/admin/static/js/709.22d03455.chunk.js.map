{"version":3,"file":"static/js/709.22d03455.chunk.js","mappings":"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","sources":["pages/Wallet.jsx","utils/http.js","utils/Api.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { WalletListApi, WalletEditApi } from 'utils/Api';\nimport {\n  Table,\n  Button,\n  message,\n  Modal,\n  Form,\n  Input,\n  InputNumber,\n} from 'antd';\nimport { useParams } from 'react-router-dom';\nconst { Column } = Table;\n\nconst Wallet = () => {\n\tconst {id} = useParams()\n  const [tableData, setTableData] = useState();\n  const [visible, setVisible] = useState(false);\n  const [form] = Form.useForm();\n\n  useEffect(() => {\n    WalletListApi(id).then((res) => {\n      setTableData(res.data);\n    });\n  }, [id]);\n\n  const edit = (record) => {\n    form.setFieldsValue( record);\n    setVisible(true);\n  };\n\n  const onFinish = (value) => {\n    WalletEditApi(value).then((res) => {\n      message.success('保存成功');\n      onCancel();\n      const swapData = tableData.filter((item) => item._id !== res.data._id);\n      setTableData([\n        ...swapData,\n        {\n          ...res.data,\n        },\n      ]);\n    });\n  };\n\n  const onCancel = () => {\n    setVisible(false);\n    form.resetFields();\n  };\n\n  return (\n    <>\n      <Table dataSource={tableData} rowKey=\"_id\">\n        <Column title=\"会员手机\" render={(_, record) => record.user.phone} />\n        <Column title=\"钱包余额\" dataIndex=\"blance\" />\n        <Column title=\"总收益\" dataIndex=\"income\" />\n        <Column title=\"总提现\" dataIndex=\"withdraw\" />\n        <Column\n          title=\"操作\"\n          dataIndex=\"\"\n          render={(_, record) => (\n            <div className=\"flex gap-1\">\n              <Button type=\"primary\" onClick={() => edit(record)}>\n                手动充值\n              </Button>\n            </div>\n          )}\n        />\n      </Table>\n\n      <Modal\n        title=\"修改信息\"\n        centered\n        visible={visible}\n        onCancel={onCancel}\n        width={1000}\n        keyboard={false}\n        maskClosable={false}\n        footer={[]}\n      >\n        <Form\n          labelCol={{ span: 4 }}\n          form={form}\n          name=\"control-hooks\"\n          onFinish={onFinish}\n        >\n          <Form.Item name=\"_id\" label=\"钱包编号\">\n            <Input disabled />\n          </Form.Item>\n          <Form.Item name=\"blance\" label=\"账户余额\">\n            <InputNumber disabled />\n          </Form.Item>\n          <Form.Item name=\"money\" label=\"充值金额\">\n            <InputNumber />\n          </Form.Item>\n          <Form.Item wrapperCol={{ span: 4, offset: 4 }}>\n            <Button type=\"primary\" htmlType=\"submit\">\n              保存\n            </Button>\n          </Form.Item>\n        </Form>\n      </Modal>\n    </>\n  );\n};\n\nexport default Wallet;\n","import Axios from 'axios';\nimport { message } from 'antd';\n\nconst http = Axios.create({\n  baseURL: process.env.REACT_APP_API_SERVER,\n  withCredentials: true,\n});\n\nhttp.interceptors.request.use(\n  (config) => {\n    if (localStorage.__admin_token) {\n      config.headers.Authorization = 'Bearer ' + localStorage.__admin_token;\n    }\n    if (localStorage.i18nextLng) {\n      config.headers['Accept-Language'] = localStorage.i18nextLng;\n    }\n    return config;\n  },\n  (err) => {\n    return Promise.reject(err);\n  }\n);\n\nhttp.interceptors.response.use(\n  (res) => {\n    if (res.data.message) {\n      message.success(res.data.message);\n    }\n    return res;\n  },\n  (err) => {\n\t\t\n\t\t\n    if (err.response.status === 401) {\n      localStorage.removeItem('__admin_token');\n\t\t\t\n      if (\n        window.location.pathname.indexOf('login') === -1 && \n\t\t\t\t\twindow.location.pathname.indexOf('register') === -1\n\t\t\t) {\n        window.location.hash = '/login';\n      }\n    }\n\n    if (err.response.data) {\n      message.error(err.response.data.message);\n      return Promise.reject(err);\n    }\n    return Promise.reject(err);\n  }\n);\n\nexport default http;\n","import http from './http';\n\nexport const LoginApi = (model) => http.post('/public/login', model);\nexport const RegisterApi = (model) => http.post('/public/register', model);\nexport const CaptchaApi = () => http.get('/../common/captcha');\n\nexport const DashBoardApi = () => http.get('/info/dashboard');\n\nexport const UserListApi = () => http.get('/user');\nexport const UserBanApi = (id) => http.delete('/user/' + id);\n\nexport const WalletListApi = (id) => http.get('/wallet/' + id);\nexport const WalletEditApi = (model) => http.post('/wallet', model);\n\nexport const BankApi = (id) => http.get('/bank/' + id);\nexport const BankEditApi = (model) => http.post('/bank', model);\n\nexport const AdminApi = () => http.get('/user/admin');\nexport const AdminSaveApi = (model) => http.post('/user/admin', model);\nexport const AdminDelApi = (id) => http.delete('/user/admin/' + id);\n\nexport const RostateApi = () => http.get('/rotate');\nexport const RostateSaveApi = (model) => http.post('/rotate', model);\nexport const RostateDelApi = (id) => http.delete('/rotate/' + id);\n\nexport const PostApi = () => http.get('/post');\nexport const PostSaveApi = (model) => http.post('/post', model);\nexport const PostDelApi = (id) => http.delete('/post/' + id);\n\nexport const ProductApi = () => http.get('/product');\nexport const ProductSaveApi = (model) => http.post('/product', model);\nexport const ProductDelApi = (id) => http.delete('/product/' + id);\n\nexport const TransactionApi = () => http.get('/transaction');\n\nexport const FinancialApi = () => http.get('/finance');\nexport const RechageApi = () => http.get('/recharge');\nexport const WithdrawListApi = () => http.get('/withdraw');\nexport const WithdrawAllowApi = (model) => http.post('/withdraw', model);\nexport const WithdrawAllowHandlApi = (model) => http.put('/withdraw', model);\nexport const WithdrawDelApi = (id) => http.delete('/withdraw/' + id);\n\nexport const SetApi = (type) => http.get('/set/' + type);\nexport const SetSaveApi = (model) => http.post('/set', model);\n"],"names":["Column","Table","id","useParams","useState","tableData","setTableData","visible","setVisible","Form","form","useEffect","WalletListApi","then","res","data","onCancel","resetFields","dataSource","rowKey","title","render","_","record","user","phone","dataIndex","className","type","onClick","setFieldsValue","edit","centered","width","keyboard","maskClosable","footer","labelCol","span","name","onFinish","value","WalletEditApi","message","swapData","filter","item","_id","label","disabled","wrapperCol","offset","htmlType","http","Axios","baseURL","process","withCredentials","interceptors","request","use","config","localStorage","__admin_token","headers","Authorization","i18nextLng","err","Promise","reject","response","status","removeItem","window","location","pathname","indexOf","hash","LoginApi","model","RegisterApi","CaptchaApi","DashBoardApi","UserListApi","UserBanApi","BankApi","BankEditApi","AdminApi","AdminSaveApi","AdminDelApi","RostateApi","RostateSaveApi","RostateDelApi","PostApi","PostSaveApi","PostDelApi","ProductApi","ProductSaveApi","ProductDelApi","TransactionApi","FinancialApi","RechageApi","WithdrawListApi","WithdrawAllowApi","WithdrawAllowHandlApi","WithdrawDelApi","SetApi","SetSaveApi"],"sourceRoot":""}