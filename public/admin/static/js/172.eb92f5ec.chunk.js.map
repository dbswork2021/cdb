{"version":3,"file":"static/js/172.eb92f5ec.chunk.js","mappings":"iOAIQA,EAAWC,EAAAA,EAAAA,OAiJnB,UA/Ie,WACb,OAAkCC,EAAAA,EAAAA,YAAlC,eAAOC,EAAP,KAAkBC,EAAlB,KACA,GAA8BF,EAAAA,EAAAA,WAAS,GAAvC,eAAOG,EAAP,KAAgBC,EAAhB,KACA,GAAgCJ,EAAAA,EAAAA,UAAS,MAAzC,eAAOK,EAAP,KAAiBC,EAAjB,MAEAC,EAAAA,EAAAA,YAAU,YACRC,EAAAA,EAAAA,MAAaC,MAAK,SAACC,GACjBR,EACEQ,EAAIC,KAAKC,KAAI,SAACC,GAAD,eAAC,UACTA,GADQ,IAEXC,IAAKD,EAAKC,IAAIC,MAAM,EAAG,GACvBC,GAAIH,EAAKC,eAId,IAEH,IA+BMG,EAAW,WACfb,GAAW,GACXE,EAAY,OAEd,OACE,iCACE,SAAC,IAAD,CACEY,KAAK,UACLC,UAAU,cACVC,QAAS,kBAAMhB,GAAW,IAH5B,uCAOA,SAAC,IAAD,CACEiB,MAAM,uCACNC,UAAQ,EACRnB,QAASA,EACToB,KAhCO,YACXC,EAAAA,EAAAA,IAAe,CAAEnB,SAAAA,IAAYI,MAAK,SAACC,GACjCe,EAAAA,GAAAA,QAAgB,4BAChBR,IACAf,EAAa,GAAD,eACPD,GADO,CAEV,CACEa,IAAKJ,EAAIC,KAAKG,IAAIC,MAAM,EAAG,GAC3BC,GAAIN,EAAIC,KAAKG,IACbY,OAAQhB,EAAIC,KAAKe,eAwBnBT,SAAUA,EACVU,MAAO,IACPC,cAAe,CAAEV,KAAM,WACvBW,kBAAmB,CAAEC,QAAQ,EAAMZ,KAAM,WACzCa,OAAO,eACPC,WAAW,eACXC,UAAU,EACVC,UAAU,EACVC,cAAc,EAbhB,UAeE,SAAC,IAAD,CACEC,MAAO,CACLC,QAAS,OACTC,eAAgB,SAChBC,WAAY,UAEdC,KAAK,OACLC,OAAQC,sBACRC,QACEC,aAAaC,QAAQ,iBACjB,CAAEC,cAAc,UAAD,OAAYF,aAAaG,gBACxC,KAENC,gBAAgB,EAChBC,SAlES,SAACC,GACS,SAArBA,EAAKC,KAAKC,QACZ3B,EAAAA,GAAAA,QAAgB,wCAChBnB,EAAY4C,EAAKC,KAAKE,WACQ,UAArBH,EAAKC,KAAKC,QACnB3B,EAAAA,GAAAA,MAAc,yCA+CZ,SAgBGpB,GACC,gBACEiD,IAAKZ,YAA+BrC,EACpCkD,IAAI,SACJnB,MAAO,CAAET,MAAO,QAAS6B,OAAQ,WAGnC,iBACEpB,MAAO,CACLC,QAAS,OACTC,eAAgB,SAChBC,WAAY,SACZZ,MAAO,QACP6B,OAAQ,QANZ,WASE,SAAC,IAAD,KACA,gBAAKpB,MAAO,CAAEqB,UAAW,GAAzB,4BAKR,UAAC,IAAD,CAAOC,WAAYzD,EAAW0D,OAAO,KAArC,WACE,SAAC7D,EAAD,CAAQuB,MAAM,eAAKuC,UAAU,SAC7B,SAAC9D,EAAD,CACEuB,MAAM,qBACNuC,UAAU,SACVC,OAAQ,SAACC,EAAGC,GAAJ,OACN,gBACET,IAAKZ,YAA+BqB,EAAOrC,OAC3C6B,IAAI,MACJnB,MAAO,CAAET,MAAO,QAAS6B,OAAQ,cAIvC,SAAC1D,EAAD,CACEuB,MAAM,eACNuC,UAAU,GACVC,OAAQ,SAACC,EAAGC,GAAJ,OACN,gBAAK5C,UAAU,aAAf,UACE,SAAC,IAAD,CAAQW,QAAM,EAACV,QAAS,kBAnHxB,SAAC2C,IACXC,EAAAA,EAAAA,IAAcD,EAAO/C,IAAIP,MAAK,SAACC,GAC7B,IAAMuD,EAAehE,EAAUiE,QAAO,SAACrD,GAAD,OAAUA,EAAKG,KAAO+C,EAAO/C,MACnEd,EAAa+D,MAgHyBE,CAAIJ,IAAlC,uC,u1BCvIRK,EAAOC,IAAAA,OAAa,CACxBC,QAAS5B,aACT6B,iBAAiB,IAGnBH,EAAKI,aAAaC,QAAQC,KACxB,SAACC,GAOC,OANI/B,aAAaG,gBACf4B,EAAOhC,QAAQG,cAAgB,UAAYF,aAAaG,eAEtDH,aAAagC,aACfD,EAAOhC,QAAQ,mBAAqBC,aAAagC,YAE5CD,KAET,SAACE,GACC,OAAOC,QAAQC,OAAOF,MAI1BT,EAAKI,aAAanB,SAASqB,KACzB,SAAChE,GAIC,OAHIA,EAAIC,KAAKc,SACXA,EAAAA,GAAAA,QAAgBf,EAAIC,KAAKc,SAEpBf,KAET,SAACmE,GAcC,OAX4B,MAAxBA,EAAIxB,SAASD,SACfR,aAAaoC,WAAW,kBAGyB,IAA/CC,OAAOC,SAASC,SAASC,QAAQ,WACc,IAAlDH,OAAOC,SAASC,SAASC,QAAQ,cAE9BH,OAAOC,SAASG,KAAO,WAIvBR,EAAIxB,SAAS1C,MACfc,EAAAA,GAAAA,MAAcoD,EAAIxB,SAAS1C,KAAKc,SACzBqD,QAAQC,OAAOF,IAEjBC,QAAQC,OAAOF,MAI1B,QCjDaS,EAAW,SAACC,GAAD,OAAWnB,EAAAA,KAAU,SAAUmB,IAC1CC,EAAc,SAACD,GAAD,OAAWnB,EAAAA,KAAU,YAAamB,IAChDE,EAAa,kBAAMrB,EAAAA,IAAS,uBAE5BsB,EAAe,kBAAMtB,EAAAA,IAAS,oBAE9BuB,EAAc,kBAAMvB,EAAAA,IAAS,eAC7BwB,EAAa,SAAC5E,GAAD,OAAQoD,EAAAA,IAAS,cAAgBpD,IAC9C6E,EAAc,SAACN,GAAD,OAAWnB,EAAAA,KAAU,aAAcmB,IAEjDO,EAAW,kBAAM1B,EAAAA,IAAS,gBAC1B2B,EAAe,SAACR,GAAD,OAAWnB,EAAAA,KAAU,cAAemB,IACnDS,EAAc,SAAChF,GAAD,OAAQoD,EAAAA,OAAY,eAAiBpD,IAEnDR,EAAa,kBAAM4D,EAAAA,IAAS,iBAC5B5C,EAAiB,SAAC+D,GAAD,OAAWnB,EAAAA,KAAU,eAAgBmB,IACtDvB,EAAgB,SAAChD,GAAD,OAAQoD,EAAAA,OAAY,gBAAkBpD,IAEtDiF,EAAU,kBAAM7B,EAAAA,IAAS,eACzB8B,EAAc,SAACX,GAAD,OAAWnB,EAAAA,KAAU,aAAcmB,IACjDY,EAAa,SAACnF,GAAD,OAAQoD,EAAAA,OAAY,cAAgBpD,IAEjDoF,EAAW,kBAAMhC,EAAAA,IAAS,gBAC1BiC,EAAe,SAACd,GAAD,OAAWnB,EAAAA,KAAU,cAAemB,IAEnDe,EAAY,kBAAMlC,EAAAA,IAAS,iBAC3BmC,EAAgB,SAAChB,GAAD,OAAWnB,EAAAA,KAAU,eAAgBmB,IAErDiB,EAAW,kBAAMpC,EAAAA,IAAS,gBAC1BqC,EAAe,SAAClB,GAAD,OAAWnB,EAAAA,KAAU,cAAemB,IAEnDmB,EAAa,kBAAMtC,EAAAA,IAAS,aAC5BuC,EAAiB,SAACpB,GAAD,OAAWnB,EAAAA,KAAU,WAAYmB,IAClDqB,EAAgB,SAAC5F,GAAD,OAAQoD,EAAAA,OAAY,YAAcpD,IAElD6F,EAAY,kBAAMzC,EAAAA,IAAS,oBAE3B0C,EAAe,kBAAM1C,EAAAA,IAAS,qBAC9B2C,EAAa,kBAAM3C,EAAAA,IAAS,mBAE5B4C,EAAkB,kBAAM5C,EAAAA,IAAS,oBACjC6C,EAAmB,SAAC1B,GAAD,OAAWnB,EAAAA,KAAU,kBAAmBmB,IAC3D2B,EAAiB,SAAClG,GAAD,OAAQoD,EAAAA,OAAY,mBAAqBpD,IAE1DmG,EAAS,SAACjG,GAAD,OAAUkD,EAAAA,IAAS,QAAUlD,IACtCkG,EAAa,SAAC7B,GAAD,OAAWnB,EAAAA,KAAU,OAAQmB,K,kFC1CnD8B,E,UAJOC,EAAmB,WAC5B,OAAOC,EAAAA,EAAAA,MAAetC,OAAOuC,SAASC,iBAI7BC,EAAyB,WAClC,IAAKJ,IACH,OAAO,EAGT,QAAyBK,IAArBN,EACF,OAAOA,EAIT,IAAIO,EAAOJ,SAASK,cAAc,OAYlC,OAXAD,EAAKxF,MAAMC,QAAU,OACrBuF,EAAKxF,MAAM0F,cAAgB,SAC3BF,EAAKxF,MAAM2F,OAAS,MAEpBH,EAAKI,YAAYR,SAASK,cAAc,QACxCD,EAAKI,YAAYR,SAASK,cAAc,QAExCL,SAASS,KAAKD,YAAYJ,GAC1BP,EAAyC,IAAtBO,EAAKM,aAExBV,SAASS,KAAKE,YAAYP,GACnBP","sources":["pages/Rotate.jsx","utils/http.js","utils/Api.js","../node_modules/antd/es/_util/styleChecker.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { RostateApi, RostateSaveApi, RostateDelApi } from 'utils/Api';\nimport { Table, Button, Modal, Upload, message } from 'antd';\nimport { PlusOutlined } from '@ant-design/icons';\nconst { Column } = Table;\n\nconst Rotate = () => {\n  const [tableData, setTableData] = useState();\n  const [visible, setVisible] = useState(false);\n  const [imageUrl, setImageUrl] = useState(null);\n\n  useEffect(() => {\n    RostateApi().then((res) => {\n      setTableData(\n        res.data.map((item) => ({\n          ...item,\n          _id: item._id.slice(0, 7),\n          id: item._id,\n        }))\n      );\n    });\n  }, []);\n\n  const del = (record) => {\n    RostateDelApi(record.id).then((res) => {\n      const newTableData = tableData.filter((item) => item.id !== record.id);\n      setTableData(newTableData);\n    });\n  };\n\n  const onChange = (info) => {\n    if (info.file.status === 'done') {\n      message.success('文件上传成功');\n      setImageUrl(info.file.response);\n    } else if (info.file.status === 'error') {\n      message.error('文件上传失败');\n    }\n  };\n\n  const onOk = () => {\n    RostateSaveApi({ imageUrl }).then((res) => {\n      message.success('添加成功');\n      onCancel();\n      setTableData([\n        ...tableData,\n        {\n          _id: res.data._id.slice(0, 7),\n          id: res.data._id,\n          imgUrl: res.data.imgUrl,\n        },\n      ]);\n    });\n  };\n\n  const onCancel = () => {\n    setVisible(false);\n    setImageUrl(null);\n  };\n  return (\n    <>\n      <Button\n        type=\"primary\"\n        className=\"bg-blue-600\"\n        onClick={() => setVisible(true)}\n      >\n        添加横幅\n      </Button>\n      <Modal\n        title=\"添加首页横幅\"\n        centered\n        visible={visible}\n        onOk={onOk}\n        onCancel={onCancel}\n        width={1000}\n        okButtonProps={{ type: 'primary' }}\n        cancelButtonProps={{ danger: true, type: 'primary' }}\n        okText=\"确认\"\n        cancelText=\"取消\"\n        closable={false}\n        keyboard={false}\n        maskClosable={false}\n      >\n        <Upload\n          style={{\n            display: 'flex',\n            justifyContent: 'center',\n            alignItems: 'center',\n          }}\n          name=\"file\"\n          action={process.env.REACT_APP_UPLOAD_SERVER}\n          headers={\n            localStorage.getItem('__admin_token')\n              ? { Authorization: `Bearer ${localStorage.__admin_token}` }\n              : null\n          }\n          showUploadList={false}\n          onChange={onChange}\n        >\n          {imageUrl ? (\n            <img\n              src={process.env.REACT_APP_SERVER + imageUrl}\n              alt=\"avatar\"\n              style={{ width: '18rem', height: '6rem' }}\n            />\n          ) : (\n            <div\n              style={{\n                display: 'flex',\n                justifyContent: 'center',\n                alignItems: 'center',\n                width: '18rem',\n                height: '6rem',\n              }}\n            >\n              <PlusOutlined />\n              <div style={{ marginTop: 8 }}>Upload</div>\n            </div>\n          )}\n        </Upload>\n      </Modal>\n      <Table dataSource={tableData} rowKey=\"id\">\n        <Column title=\"编号\" dataIndex=\"_id\" />\n        <Column\n          title=\"缩略图\"\n          dataIndex=\"imgUrl\"\n          render={(_, record) => (\n            <img\n              src={process.env.REACT_APP_SERVER + record.imgUrl}\n              alt=\"img\"\n              style={{ width: '12rem', height: '6rem' }}\n            />\n          )}\n        />\n        <Column\n          title=\"操作\"\n          dataIndex=\"\"\n          render={(_, record) => (\n            <div className=\"flex gap-1\">\n              <Button danger onClick={() => del(record)}>\n                删除\n              </Button>\n            </div>\n          )}\n        />\n      </Table>\n    </>\n  );\n};\n\nexport default Rotate;\n","import Axios from 'axios';\nimport { message } from 'antd';\n\nconst http = Axios.create({\n  baseURL: process.env.REACT_APP_API_SERVER,\n  withCredentials: true,\n});\n\nhttp.interceptors.request.use(\n  (config) => {\n    if (localStorage.__admin_token) {\n      config.headers.Authorization = 'Bearer ' + localStorage.__admin_token;\n    }\n    if (localStorage.i18nextLng) {\n      config.headers['Accept-Language'] = localStorage.i18nextLng;\n    }\n    return config;\n  },\n  (err) => {\n    return Promise.reject(err);\n  }\n);\n\nhttp.interceptors.response.use(\n  (res) => {\n    if (res.data.message) {\n      message.success(res.data.message);\n    }\n    return res;\n  },\n  (err) => {\n\t\t\n\t\t\n    if (err.response.status === 401) {\n      localStorage.removeItem('__admin_token');\n\t\t\t\n      if (\n        window.location.pathname.indexOf('login') === -1 && \n\t\t\t\t\twindow.location.pathname.indexOf('register') === -1\n\t\t\t) {\n        window.location.hash = '/login';\n      }\n    }\n\n    if (err.response.data) {\n      message.error(err.response.data.message);\n      return Promise.reject(err);\n    }\n    return Promise.reject(err);\n  }\n);\n\nexport default http;\n","import http from './http'\n\n\nexport const LoginApi = (model) => http.post('/login', model)\nexport const RegisterApi = (model) => http.post('/register', model)\nexport const CaptchaApi = () => http.get('/../common/captcha')\n\nexport const DashBoardApi = () => http.get('/info/dashboard')\n\nexport const UserListApi = () => http.get('/user/list')\nexport const UserBanApi = (id) => http.get('/user/user/' + id)\nexport const UserEditApi = (model) => http.post('/user/user', model)\n\nexport const AdminApi = () => http.get('/user/admin')\nexport const AdminSaveApi = (model) => http.post('/user/admin', model)\nexport const AdminDelApi = (id) => http.delete('/user/admin/' + id)\n\nexport const RostateApi = () => http.get('/info/rotate')\nexport const RostateSaveApi = (model) => http.post('/info/rotate', model)\nexport const RostateDelApi = (id) => http.delete('/info/rotate/' + id)\n\nexport const PostApi = () => http.get('/info/post')\nexport const PostSaveApi = (model) => http.post('/info/post', model)\nexport const PostDelApi = (id) => http.delete('/info/post/' + id)\n\nexport const AboutApi = () => http.get('/info/about')\nexport const AboutSaveApi = (model) => http.post('/info/about', model)\n\nexport const CenterApi = () => http.get('/info/center')\nexport const CenterSaveApi = (model) => http.post('/info/center', model)\n\nexport const ShareApi = () => http.get('/info/share')\nexport const ShareSaveApi = (model) => http.post('/info/share', model)\n\nexport const ProductApi = () => http.get('/product')\nexport const ProductSaveApi = (model) => http.post('/product', model)\nexport const ProductDelApi = (id) => http.delete('/product/' + id)\n\nexport const RecordApi = () => http.get('/product/record')\n\nexport const FinancialApi = () => http.get('/price/financial')\nexport const RechageApi = () => http.get('/price/rechage')\n\nexport const WithdrawListApi = () => http.get('/price/withdraw')\nexport const WithdrawAllowApi = (model) => http.post('/price/withdraw', model)\nexport const WithdrawDelApi = (id) => http.delete('/price/withdraw/' + id)\n\nexport const SetApi = (type) => http.get('/set/' + type)\nexport const SetSaveApi = (model) => http.post('/set', model)\n\n","import canUseDom from \"rc-util/es/Dom/canUseDom\";\nimport { isStyleSupport } from \"rc-util/es/Dom/styleChecker\";\nexport var canUseDocElement = function canUseDocElement() {\n  return canUseDom() && window.document.documentElement;\n};\nexport { isStyleSupport };\nvar flexGapSupported;\nexport var detectFlexGapSupported = function detectFlexGapSupported() {\n  if (!canUseDocElement()) {\n    return false;\n  }\n\n  if (flexGapSupported !== undefined) {\n    return flexGapSupported;\n  } // create flex container with row-gap set\n\n\n  var flex = document.createElement('div');\n  flex.style.display = 'flex';\n  flex.style.flexDirection = 'column';\n  flex.style.rowGap = '1px'; // create two, elements inside it\n\n  flex.appendChild(document.createElement('div'));\n  flex.appendChild(document.createElement('div')); // append to the DOM (needed to obtain scrollHeight)\n\n  document.body.appendChild(flex);\n  flexGapSupported = flex.scrollHeight === 1; // flex container should be 1px high from the row-gap\n\n  document.body.removeChild(flex);\n  return flexGapSupported;\n};"],"names":["Column","Table","useState","tableData","setTableData","visible","setVisible","imageUrl","setImageUrl","useEffect","RostateApi","then","res","data","map","item","_id","slice","id","onCancel","type","className","onClick","title","centered","onOk","RostateSaveApi","message","imgUrl","width","okButtonProps","cancelButtonProps","danger","okText","cancelText","closable","keyboard","maskClosable","style","display","justifyContent","alignItems","name","action","process","headers","localStorage","getItem","Authorization","__admin_token","showUploadList","onChange","info","file","status","response","src","alt","height","marginTop","dataSource","rowKey","dataIndex","render","_","record","RostateDelApi","newTableData","filter","del","http","Axios","baseURL","withCredentials","interceptors","request","use","config","i18nextLng","err","Promise","reject","removeItem","window","location","pathname","indexOf","hash","LoginApi","model","RegisterApi","CaptchaApi","DashBoardApi","UserListApi","UserBanApi","UserEditApi","AdminApi","AdminSaveApi","AdminDelApi","PostApi","PostSaveApi","PostDelApi","AboutApi","AboutSaveApi","CenterApi","CenterSaveApi","ShareApi","ShareSaveApi","ProductApi","ProductSaveApi","ProductDelApi","RecordApi","FinancialApi","RechageApi","WithdrawListApi","WithdrawAllowApi","WithdrawDelApi","SetApi","SetSaveApi","flexGapSupported","canUseDocElement","canUseDom","document","documentElement","detectFlexGapSupported","undefined","flex","createElement","flexDirection","rowGap","appendChild","body","scrollHeight","removeChild"],"sourceRoot":""}