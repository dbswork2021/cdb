"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[172],{8344:function(n,t,e){e.r(t);var r=e(3433),i=e(1413),u=e(9439),o=e(2791),c=e(8402),a=e(5595),s=e(3695),l=e(7309),d=e(4997),f=e(9553),p=e(9286),m=e(184),g=a.Z.Column;t.default=function(){var n=(0,o.useState)(),t=(0,u.Z)(n,2),e=t[0],h=t[1],w=(0,o.useState)(!1),x=(0,u.Z)(w,2),y=x[0],v=x[1],j=(0,o.useState)(null),Z=(0,u.Z)(j,2),_=Z[0],k=Z[1];(0,o.useEffect)((function(){(0,c.sV)().then((function(n){h(n.data.map((function(n){return(0,i.Z)((0,i.Z)({},n),{},{_id:n._id.slice(0,7),id:n._id})})))}))}),[]);var b=function(){v(!1),k(null)};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.Z,{type:"primary",className:"bg-blue-600",onClick:function(){return v(!0)},children:"\u6dfb\u52a0\u6a2a\u5e45"}),(0,m.jsx)(d.Z,{title:"\u6dfb\u52a0\u9996\u9875\u6a2a\u5e45",centered:!0,visible:y,onOk:function(){(0,c.jy)({imageUrl:_}).then((function(n){s.ZP.success("\u6dfb\u52a0\u6210\u529f"),b(),h([].concat((0,r.Z)(e),[{_id:n.data._id.slice(0,7),id:n.data._id,imgUrl:n.data.imgUrl}]))}))},onCancel:b,width:1e3,okButtonProps:{type:"primary"},cancelButtonProps:{danger:!0,type:"primary"},okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",closable:!1,keyboard:!1,maskClosable:!1,children:(0,m.jsx)(f.Z,{style:{display:"flex",justifyContent:"center",alignItems:"center"},name:"file",action:"/api/common/uploads",headers:localStorage.getItem("__admin_token")?{Authorization:"Bearer ".concat(localStorage.__admin_token)}:null,showUploadList:!1,onChange:function(n){"done"===n.file.status?(s.ZP.success("\u6587\u4ef6\u4e0a\u4f20\u6210\u529f"),k(n.file.response)):"error"===n.file.status&&s.ZP.error("\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25")},children:_?(0,m.jsx)("img",{src:"/uploads/"+_,alt:"avatar",style:{width:"18rem",height:"6rem"}}):(0,m.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"18rem",height:"6rem"},children:[(0,m.jsx)(p.Z,{}),(0,m.jsx)("div",{style:{marginTop:8},children:"Upload"})]})})}),(0,m.jsxs)(a.Z,{dataSource:e,rowKey:"id",children:[(0,m.jsx)(g,{title:"\u7f16\u53f7",dataIndex:"_id"}),(0,m.jsx)(g,{title:"\u7f29\u7565\u56fe",dataIndex:"imgUrl",render:function(n,t){return(0,m.jsx)("img",{src:"/uploads/"+t.imgUrl,alt:"img",style:{width:"12rem",height:"6rem"}})}}),(0,m.jsx)(g,{title:"\u64cd\u4f5c",dataIndex:"",render:function(n,t){return(0,m.jsx)("div",{className:"flex gap-1",children:(0,m.jsx)(l.Z,{danger:!0,onClick:function(){return function(n){(0,c.ps)(n.id).then((function(t){var r=e.filter((function(t){return t.id!==n.id}));h(r)}))}(t)},children:"\u5220\u9664"})})}})]})]})}},8402:function(n,t,e){e.d(t,{xq:function(){return x},jP:function(){return v},fH:function(){return y},Gm:function(){return h},hI:function(){return w},JY:function(){return l},o7:function(){return d},K9:function(){return U},Ig:function(){return a},QZ:function(){return k},Ip:function(){return C},yD:function(){return b},yF:function(){return P},tT:function(){return q},Mc:function(){return S},AA:function(){return B},pk:function(){return s},sV:function(){return j},ps:function(){return _},jy:function(){return Z},jg:function(){return O},kT:function(){return T},Oi:function(){return I},dB:function(){return p},GG:function(){return f},ie:function(){return g},fv:function(){return m},GW:function(){return A},Bh:function(){return G},cc:function(){return L},bK:function(){return E}});var r=e(4569),i=e.n(r),u=e(3695),o=i().create({baseURL:"/api/admin",withCredentials:!0});o.interceptors.request.use((function(n){return localStorage.__admin_token&&(n.headers.Authorization="Bearer "+localStorage.__admin_token),localStorage.i18nextLng&&(n.headers["Accept-Language"]=localStorage.i18nextLng),n}),(function(n){return Promise.reject(n)})),o.interceptors.response.use((function(n){return n.data.message&&u.ZP.success(n.data.message),n}),(function(n){return 401===n.response.status&&(localStorage.removeItem("__admin_token"),-1===window.location.pathname.indexOf("login")&&-1===window.location.pathname.indexOf("register")&&(window.location.hash="/login")),n.response.data?(u.ZP.error(n.response.data.message),Promise.reject(n)):Promise.reject(n)}));var c=o,a=function(n){return c.post("/public/login",n)},s=function(n){return c.post("/public/register",n)},l=function(){return c.get("/../common/captcha")},d=function(){return c.get("/info/dashboard")},f=function(){return c.get("/user")},p=function(n){return c.delete("/user/"+n)},m=function(n){return c.get("/wallet/"+n)},g=function(n){return c.post("/wallet",n)},h=function(n){return c.get("/bank/"+n)},w=function(n){return c.post("/bank",n)},x=function(){return c.get("/user/admin")},y=function(n){return c.post("/user/admin",n)},v=function(n){return c.delete("/user/admin/"+n)},j=function(){return c.get("/rotate")},Z=function(n){return c.post("/rotate",n)},_=function(n){return c.delete("/rotate/"+n)},k=function(){return c.get("/post")},b=function(n){return c.post("/post",n)},C=function(n){return c.delete("/post/"+n)},P=function(){return c.get("/product")},S=function(n){return c.post("/product",n)},q=function(n){return c.delete("/product/"+n)},I=function(){return c.get("/transaction")},U=function(){return c.get("/finance")},B=function(){return c.get("/recharge")},E=function(){return c.get("/withdraw")},A=function(n){return c.post("/withdraw",n)},G=function(n){return c.put("/withdraw",n)},L=function(n){return c.delete("/withdraw/"+n)},O=function(n){return c.get("/set/"+n)},T=function(n){return c.post("/set",n)}},9286:function(n,t,e){e.d(t,{Z:function(){return a}});var r=e(1413),i=e(2791),u={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},o=e(4291),c=function(n,t){return i.createElement(o.Z,(0,r.Z)((0,r.Z)({},n),{},{ref:t,icon:u}))};c.displayName="PlusOutlined";var a=i.forwardRef(c)},6096:function(n,t,e){e.d(t,{fk:function(){return o},jD:function(){return u}});var r,i=e(4937),u=function(){return(0,i.Z)()&&window.document.documentElement},o=function(){if(!u())return!1;if(void 0!==r)return r;var n=document.createElement("div");return n.style.display="flex",n.style.flexDirection="column",n.style.rowGap="1px",n.appendChild(document.createElement("div")),n.appendChild(document.createElement("div")),document.body.appendChild(n),r=1===n.scrollHeight,document.body.removeChild(n),r}}}]);
//# sourceMappingURL=172.ced9a62c.chunk.js.map